# Efficient Bus Allocation (IMW EBA)

This project was developed during the [XI Iberian Modeling Week (IMW)](https://www.crm.cat/xi-iberian-modeling-week-imw/), held at the Centre de Recerca Matem√†tica (CRM). The goal was to model and simulate efficient public bus allocation given real-world constraints and data.

## üåç Project Overview

Public transport companies must determine the number of buses needed per hour to satisfy demand without exceeding capacity or environmental budgets. This project develops a model to:

* Simulate bus motion across a fixed route.
* Estimate trip durations considering acceleration, dwell time, traffic lights, and congestion.
* Visualize bus station distributions.
* Determine bus frequency and fleet size.

The model transitions from stochastic to deterministic using expected values to gain interpretability and speed.

## üìÇ Folder Structure

```
IMW_EBA/
‚îú‚îÄ‚îÄ data/                # Input CSV/XLSX files with bus stop & passenger data
‚îú‚îÄ‚îÄ images/              # Images used in the presentation
‚îú‚îÄ‚îÄ maps/                # HTML outputs from station visualizer
‚îú‚îÄ‚îÄ out/                 # Final PDF presentation
‚îú‚îÄ‚îÄ plots/               # Interactive plots generated by the simulator
‚îú‚îÄ‚îÄ src/                 # Main source code: simulator & visualizer
‚îú‚îÄ‚îÄ README.md            # This file
‚îú‚îÄ‚îÄ main.py              # Entry point: CLI + usage examples
‚îú‚îÄ‚îÄ presentation.tex     # LaTeX beamer presentation
‚îî‚îÄ‚îÄ requirements.txt     # Required Python libraries
```

## üîÑ How to Run

Make sure your Python version is 3.9 or higher.

1. **Install requirements**:

   ```bash
   pip install -r requirements.txt
   ```

2. **Run main interface**:

   ```bash
   python main.py
   ```

   The main program runs the `BusSimulator` and opens a REPL-like shell for further inspection:

   ```python
    while True:
     try:
         line = input("> ")
         if line.strip().lower() in {"exit", "quit"}:
             break
         try:
             result = eval(line)
             if result is not None:
                 print(result)
         except SyntaxError:
             exec(line)
     except Exception as e:
         print(f"\033[91mError: {e}\033[0m")
   ```

## üìñ How to Render the Presentation

The presentation is written in LaTeX (`presentation.tex`) using Beamer.

To compile it:

```bash
pdflatex presentation.tex
```

Make sure the `images/` directory is present and includes:

* `bcn_map.png`
* `map_bg.png`

A PDF will be generated and saved in the `out/` folder.

## üíº Authors

Project by:

* Inmaculada Fern√°ndez, Vienna University of Technology 
* Germ√°n L√≥pez, Universitat de Barcelona
* Isaac Mart√≠nez, Universitat de Barcelona
* Natan Sisoev, Universitat Aut√≤noma de Barcelona

Developed as part of the [XI Iberian Modeling Week](https://www.crm.cat/xi-iberian-modeling-week-imw/) at the **Centre de Recerca Matem√†tica (CRM)**.

![Group Photo](images/group_photo.jpg)

---

Thank you for reading!

For questions, feel free to open an issue or reach out to the authors.
